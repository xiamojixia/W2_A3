<!-- å’Œå¹³é¸½é£˜è½æ•ˆæœ -->
<div class="dove-fall">
    <div class="dove small">
        <div class="head"></div>
        <div class="tail"></div>
        <div class="olive-branch"></div>
    </div>
    <div class="dove medium">
        <div class="head"></div>
        <div class="tail"></div>
        <div class="olive-branch"></div>
    </div>
    <div class="dove large">
        <div class="head"></div>
        <div class="tail"></div>
        <div class="olive-branch"></div>
    </div>
</div>

<!-- çˆ±å¿ƒæ‹–å°¾æ•ˆæœå®¹å™¨ -->
<div class="trail-container" id="trailContainer"></div>

<div class="profile-container">
  <!-- å¯¼èˆªæ  -->
  <nav class="profile-nav">
    <div class="site-title">Charity Events</div>
    <div class="nav-links">
      <a routerLink="/home">Home</a>
      <a routerLink="/search">Search</a>
      <a routerLink="/profile" class="active">Profile</a>
      <a routerLink="/security">Security</a>
      <a *ngIf="authService.isLoggedIn()" (click)="logout()">Logout</a>
      <a *ngIf="!authService.isLoggedIn()" routerLink="/login">Login</a>
    </div>
  </nav>

  <!-- ä¸ªäººèµ„æ–™å†…å®¹ -->
  <div class="profile-content">
    <div class="profile-header">
      <h1 class="profile-title">ä¸ªäººèµ„æ–™</h1>
      <p class="profile-subtitle">ç®¡ç†æ‚¨çš„ä¸ªäººä¿¡æ¯å’Œè´¦æˆ·è®¾ç½®</p>
    </div>

    <div class="profile-card">
      <!-- å¤´åƒåŒºåŸŸ -->
      <div class="avatar-section">
        <div class="avatar-container">
          <img [src]="userProfile.avatar" [alt]="userProfile.username" class="avatar-image">
          <div class="avatar-overlay">
            <span class="avatar-text">æ›´æ¢å¤´åƒ</span>
          </div>
        </div>
        <h2 class="username">{{ userProfile.username }}</h2>
        <p class="user-bio">{{ userProfile.bio }}</p>
      </div>

      <!-- ä¸ªäººä¿¡æ¯ -->
      <div class="info-section">
        <div class="section-header">
          <h3>åŸºæœ¬ä¿¡æ¯</h3>
          <button
            *ngIf="!isEditing"
            class="btn-edit"
            (click)="toggleEdit()"
          >
            âœï¸ ç¼–è¾‘ä¿¡æ¯
          </button>
          <div *ngIf="isEditing" class="edit-actions">
            <button class="btn-save" (click)="saveProfile()">ğŸ’¾ ä¿å­˜</button>
            <button class="btn-cancel" (click)="cancelEdit()">âŒ å–æ¶ˆ</button>
          </div>
        </div>

        <div class="info-grid">
          <!-- æŸ¥çœ‹æ¨¡å¼ -->
          <div *ngIf="!isEditing" class="info-items">
            <div class="info-item">
              <span class="info-label">ğŸ‘¤ ç”¨æˆ·å</span>
              <span class="info-value">{{ userProfile.username }}</span>
            </div>
            <div class="info-item">
              <span class="info-label">ğŸ“§ é‚®ç®±åœ°å€</span>
              <span class="info-value">{{ userProfile.email }}</span>
            </div>
            <div class="info-item">
              <span class="info-label">ğŸ“ æ‰‹æœºå·ç </span>
              <span class="info-value">{{ userProfile.phone }}</span>
            </div>
            <div class="info-item">
              <span class="info-label">ğŸ“… æ³¨å†Œæ—¶é—´</span>
              <span class="info-value">{{ userProfile.registrationDate }}</span>
            </div>
            <div class="info-item">
              <span class="info-label">ğŸ“ ä¸ªäººç®€ä»‹</span>
              <span class="info-value">{{ userProfile.bio }}</span>
            </div>
          </div>

          <!-- ç¼–è¾‘æ¨¡å¼ -->
          <div *ngIf="isEditing" class="edit-form">
            <div class="form-group">
              <label for="username">ç”¨æˆ·å</label>
              <input
                type="text"
                id="username"
                [(ngModel)]="editedProfile.username"
                class="form-input"
              >
            </div>
            <div class="form-group">
              <label for="email">é‚®ç®±åœ°å€</label>
              <input
                type="email"
                id="email"
                [(ngModel)]="editedProfile.email"
                class="form-input"
              >
            </div>
            <div class="form-group">
              <label for="phone">æ‰‹æœºå·ç </label>
              <input
                type="tel"
                id="phone"
                [(ngModel)]="editedProfile.phone"
                class="form-input"
              >
            </div>
            <div class="form-group">
              <label for="bio">ä¸ªäººç®€ä»‹</label>
              <textarea
                id="bio"
                [(ngModel)]="editedProfile.bio"
                class="form-textarea"
                rows="4"
              ></textarea>
            </div>
          </div>
        </div>
      </div>

      <!-- ç»Ÿè®¡ä¿¡æ¯ -->
      <div class="stats-section">
        <h3>æ´»åŠ¨ç»Ÿè®¡</h3>
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">ğŸ¯</div>
            <div class="stat-content">
              <div class="stat-number">12</div>
              <div class="stat-label">å‚ä¸çš„æ´»åŠ¨</div>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">â¤ï¸</div>
            <div class="stat-content">
              <div class="stat-number">8</div>
              <div class="stat-label">æèµ æ¬¡æ•°</div>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">â­</div>
            <div class="stat-content">
              <div class="stat-number">15</div>
              <div class="stat-label">å¿—æ„¿è€…å°æ—¶</div>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">ğŸ†</div>
            <div class="stat-content">
              <div class="stat-number">3</div>
              <div class="stat-label">è·å¾—çš„å¾½ç« </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- å¹³å°ä¿¡æ¯é¡µè„š -->
  <footer class="platform-footer">
    <div class="footer-container">
      <div class="footer-sections">
        <!-- About Us -->
        <div class="footer-section">
          <h4>About Us</h4>
          <ul>
            <li><a href="#">Platform Introduction</a></li>
            <li><a href="#">Co-founders</a></li>
            <li><a href="#">Board of Directors</a></li>
            <li><a href="#">Scientific Advisory Committee</a></li>
            <li><a href="#">Executive Team</a></li>
            <li><a href="#">Milestones</a></li>
            <li><a href="#">Annual Reports</a></li>
          </ul>
        </div>

        <!-- Join Us -->
        <div class="footer-section">
          <h4>Join Us</h4>
          <ul>
            <li><a href="#">Project Collaboration</a></li>
          </ul>
          <h4 class="footer-subtitle">Project Funding</h4>
          <ul>
            <li><a href="#">Science Innovation Alliance</a></li>
          </ul>
        </div>

        <!-- Key Projects -->
        <div class="footer-section">
          <h4>Key Projects</h4>
          <ul>
            <li><a href="#">China Rare Disease Research Conference</a></li>
            <li><a href="#">"Golden Stone Project" Patient Community Research Funding</a></li>
            <li><a href="#">Ruiou New Year Charity Gala</a></li>
          </ul>
          <h4 class="footer-subtitle">News & Stories</h4>
          <ul>
            <li><a href="#">Latest News</a></li>
            <li><a href="#">Rare Disease Insights</a></li>
            <li><a href="#">Announcements</a></li>
          </ul>
        </div>

        <!-- Support & Contact -->
        <div class="footer-section">
          <h4>Patients & Researchers</h4>
          <ul>
            <li><a href="#">Support & Contact</a></li>
          </ul>
          <h4 class="footer-subtitle">Support Us</h4>
          <ul>
            <li><a href="#">Contact Us</a></li>
          </ul>
          <h4 class="footer-subtitle">Contact Us</h4>
          <div class="contact-info">
            <p>Phone: ***********</p>
            <p>Email: ***********************</p>
          </div>
        </div>
      </div>

      <!-- ç‰ˆæƒä¿¡æ¯ -->
      <div class="copyright">
        <p>&copy; 2024 Charity Events Exchange Platform. All rights reserved.</p>
      </div>
    </div>
  </footer>
</div>
